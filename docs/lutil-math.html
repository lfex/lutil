<html><head><meta charset="UTF-8"><link type="text/css" href="css/default.css" rel="stylesheet"><link type="text/css" href="css/hk-pyg.css" rel="stylesheet"><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><title>lutil-math documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/lfe-rebar3/lodox">Lodox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">lutil</span> <span class="project-version">1.0.0</span></span> <span class="project-documented">(39% documented)</span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Application</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1"><a href="topic-lutil.html"><div class="inner"><span>lutil</span></div></a></li><li class="depth-1"><a href="topic-lutil-math.html"><div class="inner"><span>lutil-math</span></div></a></li><li class="depth-1"><a href="topic-lutil-type.html"><div class="inner"><span>lutil-type</span></div></a></li></ul><h3 class="no-link"><span class="inner">Modules</span></h3><ul><li class="depth-1"><a href="lutil-type.html"><div class="inner">lutil-type</div></a></li><li class="depth-1"><a href="lutil-text.html"><div class="inner">lutil-text</div></a></li><li class="depth-1 current"><a href="lutil-math.html"><div class="inner">lutil-math</div></a></li><li class="depth-1"><a href="lutil-file.html"><div class="inner">lutil-file</div></a></li><li class="depth-1"><a href="lutil.html"><div class="inner">lutil</div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Exports</span></a></h3><ul><li class="depth-1"><a href="lutil-math.html#export-ceiling.2F1"><div class="inner"><span>ceiling/1</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-color-scale.2F2"><div class="inner"><span>color-scale/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-dot-product.2F2"><div class="inner"><span>dot-product/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-factorial.2F1"><div class="inner"><span>factorial/1</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-factorial.2F2"><div class="inner"><span>factorial/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-factors.2F1"><div class="inner"><span>factors/1</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-factors.2F3"><div class="inner"><span>factors/3</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-fast-floor.2F1"><div class="inner"><span>fast-floor/1</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-floor.2F1"><div class="inner"><span>floor/1</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-gcd.2F2"><div class="inner"><span>gcd/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-get-closest.2F2"><div class="inner"><span>get-closest/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-get-gradations.2F2"><div class="inner"><span>get-gradations/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-get-gradations.2F3"><div class="inner"><span>get-gradations/3</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-get-next-prime.2F1"><div class="inner"><span>get-next-prime/1</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-levenshtein-distance.2F2"><div class="inner"><span>levenshtein-distance/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-levenshtein-distance.2F3"><div class="inner"><span>levenshtein-distance/3</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-levenshtein-simple.2F2"><div class="inner"><span>levenshtein-simple/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-levenshtein-sort.2F2"><div class="inner"><span>levenshtein-sort/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-prime.3F.2F1"><div class="inner"><span>prime?/1</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-round.2F2"><div class="inner"><span>round/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-scale.2F3"><div class="inner"><span>scale/3</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-unit-scale.2F2"><div class="inner"><span>unit-scale/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-xform-numbers.2F2"><div class="inner"><span>xform-numbers/2</span></div></a></li><li class="depth-1"><a href="lutil-math.html#export-xform-numbers.2F3"><div class="inner"><span>xform-numbers/3</span></div></a></li></ul></div><div id="content" class="module-docs"><h1 id="top" class="anchor">lutil-math</h1><div class="doc"></div><div class="public anchor" id="export-ceiling.2F1"><h3>ceiling/1</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(x)</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L13">view source</a></div></div><div class="public anchor" id="export-color-scale.2F2"><h3>color-scale/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(value current-frame)</code></pre></div>
</div><div class="doc"><p>Given a value and a range that value belongs to, calculate the value when<br />
scaled to the range 0 to 255.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L61">view source</a></div></div><div class="public anchor" id="export-dot-product.2F2"><h3>dot-product/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(a b)</code></pre></div>
</div><div class="doc"><p>This doesn't appear to be needed for this particular library, but it was fun<br />
to write, and is quite pretty, so it's staying ;-)</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L36">view source</a></div></div><div class="public anchor" id="export-factorial.2F1"><h3>factorial/1</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(n)</code></pre></div>
</div><div class="doc"><p>Tail-recursive factrial function.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L66">view source</a></div></div><div class="public anchor" id="export-factorial.2F2"><h3>factorial/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(<span class="dv">0</span> acc)
(n acc (<span class="kw">when</span> (call &#39;erlang &#39;&gt; n <span class="dv">0</span>)))</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L70">view source</a></div></div><div class="public anchor" id="export-factors.2F1"><h3>factors/1</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(n)</code></pre></div>
</div><div class="doc"><p>Tail-recursive prime factors function.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L88">view source</a></div></div><div class="public anchor" id="export-factors.2F3"><h3>factors/3</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(<span class="dv">1</span> _ acc)
(n _ acc (<span class="kw">when</span> (call &#39;erlang &#39;=&lt; n <span class="dv">0</span>)))
(n k acc (<span class="kw">when</span> (call &#39;erlang &#39;== <span class="dv">0</span> (<span class="kw">rem</span> n k))))
(n k acc)</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L92">view source</a></div></div><div class="public anchor" id="export-fast-floor.2F1"><h3>fast-floor/1</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(num)</code></pre></div>
</div><div class="doc"><p>Sadly, this is named 'fast-floor' only because the Racket version was given<br />
that name. There is no good floor function in Erlang... so this should<br />
probably have been called 'slow-floor'.</p>
<p>Old implementation has been replced with the code in floor/1. This function<br />
is kept for backwards compatibility.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L22">view source</a></div></div><div class="public anchor" id="export-floor.2F1"><h3>floor/1</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(x)</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L4">view source</a></div></div><div class="public anchor" id="export-gcd.2F2"><h3>gcd/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(a <span class="dv">0</span>)
(a b)</code></pre></div>
</div><div class="doc"><p>Get the greatest common divisor.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L200">view source</a></div></div><div class="public anchor" id="export-get-closest.2F2"><h3>get-closest/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(<span class="kw">number</span> numbers)</code></pre></div>
</div><div class="doc"><p>Given a number and a list of numbers, the number in the list that is closest<br />
to the given number will be returned.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L150">view source</a></div></div><div class="public anchor" id="export-get-gradations.2F2"><h3>get-gradations/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">((<span class="kw">list</span> <span class="kw">min</span> <span class="kw">max</span>) divisions)</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L170">view source</a></div></div><div class="public anchor" id="export-get-gradations.2F3"><h3>get-gradations/3</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(start inc <span class="kw">count</span>)</code></pre></div>
</div><div class="doc"><p>Given a starting number, a number to add at each iteration, and a number of<br />
times to iterate, return a list of these incrementated gradations.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L160">view source</a></div></div><div class="public anchor" id="export-get-next-prime.2F1"><h3>get-next-prime/1</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(x)</code></pre></div>
</div><div class="doc"><p>Get the next prime in ascending order.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L75">view source</a></div></div><div class="public anchor" id="export-levenshtein-distance.2F2"><h3>levenshtein-distance/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(str1 str2)</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L115">view source</a></div></div><div class="public anchor" id="export-levenshtein-distance.2F3"><h3>levenshtein-distance/3</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">((<span class="kw">=</span> () str1) str2 cache)
(str1 (<span class="kw">=</span> () str2) cache)
((<span class="kw">cons</span> a str1) (<span class="kw">cons</span> b str2) cache (<span class="kw">when</span> (call &#39;erlang &#39;== a b)))
((<span class="kw">=</span> (<span class="kw">cons</span> _ str1-tail) str1) (<span class="kw">=</span> (<span class="kw">cons</span> _ str2-tail) str2) cache)</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L120">view source</a></div></div><div class="public anchor" id="export-levenshtein-simple.2F2"><h3>levenshtein-simple/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(() str)
(str ())
((<span class="kw">cons</span> a str1) (<span class="kw">cons</span> b str2) (<span class="kw">when</span> (call &#39;erlang &#39;== a b)))
((<span class="kw">=</span> (<span class="kw">cons</span> _ str1-tail) str1) (<span class="kw">=</span> (<span class="kw">cons</span> _ str2-tail) str2))</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L101">view source</a></div></div><div class="public anchor" id="export-levenshtein-sort.2F2"><h3>levenshtein-sort/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(str1 str-list)</code></pre></div>
</div><div class="doc"></div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L142">view source</a></div></div><div class="public anchor" id="export-prime.3F.2F1"><h3>prime?/1</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(x)</code></pre></div>
</div><div class="doc"><p>If a number consists of more than two factors, it is not a prime number.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L82">view source</a></div></div><div class="public anchor" id="export-round.2F2"><h3>round/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(<span class="kw">number</span> precision)</code></pre></div>
</div><div class="doc"><p>Round a floating point number to the given number of decimal places.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L31">view source</a></div></div><div class="public anchor" id="export-scale.2F3"><h3>scale/3</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(value
 (tuple lower-bound upper-bound)
 (tuple lower-bound-prime upper-bound-prime))</code></pre></div>
</div><div class="doc"><p>Given a value and a range that value belongs to, calculate a new value based<br />
upon a new range.</p>
<p>This is useful, for instance, when one wants to convert a decimal value<br />
between 0.0 and 1.0 to a value between 0 and 255.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L42">view source</a></div></div><div class="public anchor" id="export-unit-scale.2F2"><h3>unit-scale/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(value current-frame)</code></pre></div>
</div><div class="doc"><p>Given a value and a range that value belongs to, calculate the value when<br />
scaled to the range 0.0 to 1.0.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L56">view source</a></div></div><div class="public anchor" id="export-xform-numbers.2F2"><h3>xform-numbers/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(divisions numbers)</code></pre></div>
</div><div class="doc"><p>The default precision for rounding decimals is two places.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L196">view source</a></div></div><div class="public anchor" id="export-xform-numbers.2F3"><h3>xform-numbers/3</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(divisions _ _ (<span class="kw">when</span> (call &#39;erlang &#39;&lt; divisions <span class="dv">0</span>)))
(<span class="dv">0</span> numbers _)
(divisions numbers precision)</code></pre></div>
</div><div class="doc"><p>Given a list of numbers, transform them into the number of groups<br />
represented by 'divisions'.</p>
<p>Keep in mind that 1 division results in two groups; 9 divisions gives 10<br />
groups.</p>
</div><div class="src-link"><a href="https://github.com/lfex/lutil/blob/1.0.0/src/lutil-math.lfe#L176">view source</a></div></div></div></body></html>